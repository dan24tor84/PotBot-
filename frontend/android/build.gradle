// File: potbot-main/frontend/android/build.gradle

buildscript {
  ext.kotlin_version = '1.9.10'

  repositories {
    google()
    mavenCentral()
  }

  dependencies {
    classpath 'com.android.tools.build:gradle:8.1.1'
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"

    // ↓ Use the 1.x Detekt plugin, not 2.x ↓
    classpath "io.gitlab.arturbosch.detekt:detekt-gradle-plugin:1.23.1"

    // Spotless (optional)
    classpath "com.diffplug.spotless:spotless-plugin-gradle:6.20.6"
  }
}

allprojects {
  repositories {
    google()
    mavenCentral()
  }
}

// Configure Detekt at the root level if you like,
// or in your app module – either path works.
detekt {
  toolVersion          = "1.23.1"
  buildUponDefaultConfig = true
  config               = files("$rootDir/config/detekt/detekt.yml")
  autoCorrect          = true
}
